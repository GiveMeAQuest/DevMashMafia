#API сокетов
##Условные обозначения
`{a, b, c, ...}` - JSON-объект с полями "a", "b", "c", ...

`[a]` - массив JSON-объектов "а"

Все названия полей, а также строковые значения надо заключать в двойные кавычки!

##События

###События, отправляемые пользователем серверу

####Вход в комнату
- `event`: "join room"
- `data`: {nickname, room\_id}
  - `nickname`: ник игрока (строка)
  - `room_id`: ID комнаты (число)

__Ответ сервера__
- `event`: "room joined"
- `data`: room_id
  - `room_id`: ID комнаты, в которую зашёл игрок (число)
 
####Создание комнаты
- `event`: "create room"
- `data`: {players}
  - `players`: Необходимое кол-во игроков в комнате (число)
 
__Ответ сервера__
- `event`: "room created"
- `data`: room_id
  - `room_id`: ID созданной комнаты (число)
 
####Получение списка игроков в комнате (до начала игры)
- `event`: "get waiting players"
- `data`: -

__Ответ сервера__
- `event`: "players"
- `data`: [player]
  - `player`: {id, nickname}
    1. `id`: ID игрока (число)
    2. `nickname`: Ник игрока (строка)

####Выход из комнаты
- `event`: "leave room"
- `data`: -

__Ответ сервера__
- `event`: "room left"
- `data`: -

####Получение данных о комнате
- `event`: "get room"
- `data`: room\_id
  - `room_id`: ID нужной комнаты (число)
 
__Ответ сервера__
- `event`: "room"
- `data`: {id, host_id, phase}
  - `id`: ID комнаты (число)
  - `host_id`: ID хоста комнаты (число)
  - `phase`: Название текущей фазы комнаты (строка)


###События, отправляемые сервером пользователю

####Любая ошибка
- `event`: "err"
- `data`: error
  - `error`: Текст ошибки (строка)
 
####В комнату игрока зашёл другой игрок
- `event`: "player joined"
- `data`: id
  - `id`: ID зашедшего игрока (число)


####Из комнаты игрока вышел другой игрок
- `event`: "player left"
- `data`: id
  - `id`: ID вышедшего игрока (число)


####Из комнаты игрока вышел хост и сервер назначил нового хоста
- `event`: "host changed"
- `data`: host\_id
  - `host_id`: ID игрока, ставшего хостом (число)
